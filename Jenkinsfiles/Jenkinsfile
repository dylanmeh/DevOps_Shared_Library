@Library("devops") _
def props = [:]
podTemplate(podRetention: onFailure(), 
activeDeadlineSeconds: 600,
    
yaml: '''
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: alpine-docker
    image: dylanmehmedovic/alpine-docker:latest
    command:
    - cat
    args:
    - infintity
''') {
    node(POD_LABEL) {
        container('alpine-docker') {
            props = readProperties(file: 'Property_file/build.properties')
        } 
        container('alpine-docker') {
            buildAndDeployDockerfiles()
        }
    }
}            
